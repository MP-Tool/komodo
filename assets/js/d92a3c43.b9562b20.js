"use strict";(self.webpackChunkdocsite=self.webpackChunkdocsite||[]).push([[864],{5804:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>d});var s=r(4848),i=r(8453);const o={},l="Resources",t={id:"resources",title:"Resources",description:"Komodo is extendible through the Resource abstraction. Entities like Server, Deployment, and Stack are all Komodo Resources.",source:"@site/docs/resources.md",sourceDirName:".",slug:"/resources",permalink:"/docs/resources",draft:!1,unlisted:!1,editUrl:"https://github.com/mbecker20/komodo/tree/main/docsite/docs/resources.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"What is Komodo?",permalink:"/docs/intro"},next:{title:"Setup Komodo",permalink:"/docs/setup/"}},c={},d=[{value:"Server",id:"server",level:2},{value:"Deployment",id:"deployment",level:2},{value:"Stack",id:"stack",level:2},{value:"Repo",id:"repo",level:2},{value:"Build",id:"build",level:2},{value:"Builder",id:"builder",level:2},{value:"Procedure",id:"procedure",level:2},{value:"Action",id:"action",level:2},{value:"ResourceSync",id:"resourcesync",level:2},{value:"Alerter",id:"alerter",level:2},{value:"ServerTemplate",id:"servertemplate",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"resources",children:"Resources"})}),"\n",(0,s.jsxs)(n.p,{children:["Komodo is extendible through the ",(0,s.jsx)(n.strong,{children:"Resource"})," abstraction. Entities like ",(0,s.jsx)(n.code,{children:"Server"}),", ",(0,s.jsx)(n.code,{children:"Deployment"}),", and ",(0,s.jsx)(n.code,{children:"Stack"})," are all ",(0,s.jsx)(n.strong,{children:"Komodo Resources"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["All resources have common traits, such as a unique ",(0,s.jsx)(n.code,{children:"name"})," and ",(0,s.jsx)(n.code,{children:"id"})," amongst all other resources of the same resource type.\nAll resources can be assigned ",(0,s.jsx)(n.code,{children:"tags"}),", which can be used to group related resources."]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"Many resources need access to git repos / docker registries. There is an in-built token management system (managed in UI or in config file) to give resources access to credentials.\nAll resources which depend on git repos / docker registries are able to use these credentials to access private repos."})}),"\n",(0,s.jsx)(n.h2,{id:"server",children:"Server"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Configure the connection to periphery agents."}),"\n",(0,s.jsx)(n.li,{children:"Set alerting thresholds."}),"\n",(0,s.jsxs)(n.li,{children:["Can be attached to by ",(0,s.jsx)(n.strong,{children:"Deployments"}),", ",(0,s.jsx)(n.strong,{children:"Stacks"}),", ",(0,s.jsx)(n.strong,{children:"Repos"}),", and ",(0,s.jsx)(n.strong,{children:"Builders"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"deployment",children:"Deployment"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Deploy a docker container on the attached Server."}),"\n",(0,s.jsxs)(n.li,{children:["Manage services at the container level, perform orchestration using ",(0,s.jsx)(n.strong,{children:"Procedures"})," and ",(0,s.jsx)(n.strong,{children:"ResourceSyncs"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"stack",children:"Stack"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Deploy with docker compose."}),"\n",(0,s.jsx)(n.li,{children:"Provide the compose file in UI, or move the files to a git repo and use a webhook for auto redeploy on push."}),"\n",(0,s.jsxs)(n.li,{children:["Supports composing multiple compose files using ",(0,s.jsx)(n.code,{children:"docker compose -f ... -f ..."}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Pass environment variables usable within the compose file. Interpolate in app-wide variables / secrets."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"repo",children:"Repo"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Put scripts in git repos, and run them on a Server, or using a Builder."}),"\n",(0,s.jsx)(n.li,{children:"Can build binaries, perform automation, really whatever you can think of."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"build",children:"Build"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Build application source into docker images, and push them to the configured registry."}),"\n",(0,s.jsx)(n.li,{children:"The source can be any git repo containing a Dockerfile."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"builder",children:"Builder"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Either points to a connected server, or holds configuration to launch a single-use AWS instance to build the image."}),"\n",(0,s.jsxs)(n.li,{children:["Can be attached to ",(0,s.jsx)(n.strong,{children:"Builds"})," and ",(0,s.jsx)(n.strong,{children:"Repos"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"procedure",children:"Procedure"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Compose many actions on other resource type, like ",(0,s.jsx)(n.code,{children:"RunBuild"})," or ",(0,s.jsx)(n.code,{children:"DeployStack"}),", and run it on button push (or with a webhook)."]}),"\n",(0,s.jsx)(n.li,{children:'Can run one or more actions in parallel "stages", and compose a series of parallel stages to run sequentially.'}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"action",children:"Action"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Write scripts calling the Komodo API in Typescript"}),"\n",(0,s.jsx)(n.li,{children:"Use a pre-initialized Komodo client within the script, no api keys necessary."}),"\n",(0,s.jsx)(n.li,{children:"Type aware in UI editor. Get suggestions and see in depth docs as you type."}),"\n",(0,s.jsxs)(n.li,{children:["The Typescript client is also ",(0,s.jsx)(n.a,{href:"https://www.npmjs.com/package/komodo_client",children:"published on NPM"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"resourcesync",children:"ResourceSync"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Orchestrate all your configuration declaratively by defining it in ",(0,s.jsx)(n.code,{children:"toml"})," files, which are checked into a git repo."]}),"\n",(0,s.jsxs)(n.li,{children:["Can deploy ",(0,s.jsx)(n.strong,{children:"Deployments"})," and ",(0,s.jsx)(n.strong,{children:"Stacks"})," if changes are suggested."]}),"\n",(0,s.jsxs)(n.li,{children:["Specify deploy ordering with ",(0,s.jsx)(n.code,{children:"after"})," array. (like docker compose ",(0,s.jsx)(n.code,{children:"depends_on"})," but can span across servers.)."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"alerter",children:"Alerter"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Route alerts to various endpoints."}),"\n",(0,s.jsx)(n.li,{children:"Can configure rules on each Alerter, such as resource whitelist, blacklist, or alert type filter."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"servertemplate",children:"ServerTemplate"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Easily expand your cloud network by storing cloud server lauch templates on various providers."}),"\n",(0,s.jsxs)(n.li,{children:["Auto connect the server to Komodo on launch, using ",(0,s.jsx)(n.code,{children:"User Data"})," launch scripts."]}),"\n",(0,s.jsxs)(n.li,{children:["Currently supports ",(0,s.jsx)(n.strong,{children:"AWS EC2"})," and ",(0,s.jsx)(n.strong,{children:"Hetzner"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>t});var s=r(6540);const i={},o=s.createContext(i);function l(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);