"use strict";(self.webpackChunkdocsite=self.webpackChunkdocsite||[]).push([[423],{1792:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>a,frontMatter:()=>d,metadata:()=>t,toc:()=>l});var s=r(4848),i=r(8453);const d={},o="Development",t={id:"development",title:"Development",description:"Dependencies",source:"@site/docs/development.md",sourceDirName:".",slug:"/development",permalink:"/docs/development",draft:!1,unlisted:!1,editUrl:"https://github.com/mbecker20/komodo/tree/main/docsite/docs/development.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"API",permalink:"/docs/api"}},c={},l=[{value:"Dependencies",id:"dependencies",level:2},{value:"Docker",id:"docker",level:2},{value:"Devcontainer",id:"devcontainer",level:2},{value:"Local",id:"local",level:2},{value:"Docsite Development",id:"docsite-development",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"development",children:"Development"})}),"\n",(0,s.jsx)(n.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,s.jsxs)(n.p,{children:["Running Komodo from ",(0,s.jsx)(n.a,{href:"https://github.com/mbecker20/komodo",children:"source"})," requires either ",(0,s.jsx)(n.a,{href:"https://www.docker.com/",children:"Docker"}),", use of the included ",(0,s.jsx)(n.a,{href:"https://code.visualstudio.com/docs/devcontainers/containers",children:"devcontainer"})," or these dependencies installed:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["For backend (Komodo core server, periphery, API)","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://www.rust-lang.org/",children:"Rust"})," stable 1.81"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://rustup.rs/",children:"rustup"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://www.mongodb.com/",children:"MongoDB"})," compatible database"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["For frontend (Web UI)","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://nodejs.org/en",children:"Node"})," >= 18.18 + NPM","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://yarnpkg.com/",children:"Yarn"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/1password/typeshare",children:"typeshare"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://deno.com/",children:"Deno"})," >= 2.0.2"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"docker",children:"Docker"}),"\n",(0,s.jsxs)(n.p,{children:["After making changes to the project simply run ",(0,s.jsx)(n.code,{children:"run test-compose-build"})," to rebuild Komodo and then ",(0,s.jsx)(n.code,{children:"run test-compose-exposed"})," to start a Komodo container with the UI accessible at ",(0,s.jsx)(n.code,{children:"localhost:9120"}),". Any changes made to source files will require re-running the build and exposed commands."]}),"\n",(0,s.jsx)(n.h2,{id:"devcontainer",children:"Devcontainer"}),"\n",(0,s.jsxs)(n.p,{children:["Use the included ",(0,s.jsx)(n.code,{children:".devcontainer.json"})," with VSCode or other compatible IDE to stand-up a full environment, including database, with one click."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://code.visualstudio.com/Docs/editor/tasks",children:"VSCode Tasks"})," are provded for building and running Komodo."]}),"\n",(0,s.jsxs)(n.p,{children:["After opening the repository with the devcontainer run the task ",(0,s.jsx)(n.code,{children:"Init"})," to build the frontend/backend. Then, the task ",(0,s.jsx)(n.code,{children:"Run Komodo"})," can be used to run frontend/backend. Other tasks for rebuilding/running only parts of the application are also provided."]}),"\n",(0,s.jsx)(n.h2,{id:"local",children:"Local"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://github.com/mbecker20/runnables-cli",children:"runnables-cli"})," can be used as a convience for running common project tasks (like a Makefile) found in ",(0,s.jsx)(n.code,{children:"runfile.toml"}),". Otherwise, you can create your own project tasks by references the ",(0,s.jsx)(n.code,{children:"cmd"}),"s found in ",(0,s.jsx)(n.code,{children:"runfile.toml"}),". All instructions below will use runnables-cli."]}),"\n",(0,s.jsx)(n.p,{children:"To run a full Komodo instance from a non-container environment run commands in this order:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Ensure dependencies are up to date","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"rustup update"})," -- ensure rust toolchain is up to date"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Build and Run backend","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"run test-core"})," -- builds core binary"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"run test-periphery"})," -- builds periphery binary"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Build Frontend","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"run gen-client"})," -- generates TS client and adds to the frontend"]}),"\n",(0,s.jsxs)(n.li,{children:["Prepare API Client","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"cd client/core/ts && yarn && yarn build && yarn link"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["After running once client can be rebuilt with ",(0,s.jsx)(n.code,{children:"run build-ts-client"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://github.com/mbecker20/komodo/frontend/README.md",children:"Prepare Frontend"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"cd frontend && yarn link komodo_client && yarn install"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["After running once client can be built with ",(0,s.jsx)(n.code,{children:"run build-frontend"})," or started in dev (watch) mode with ",(0,s.jsx)(n.code,{children:"run start-frontend"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"docsite-development",children:"Docsite Development"}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"run docsite-start"})," to start the ",(0,s.jsx)(n.a,{href:"https://docusaurus.io/",children:"Docusaurus"})," Komodo docs site in development mode. Changes made to files in ",(0,s.jsx)(n.code,{children:"/docsite"})," will be automatically reloaded by the server."]})]})}function a(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>t});var s=r(6540);const i={},d=s.createContext(i);function o(e){const n=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);